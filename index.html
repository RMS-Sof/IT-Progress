<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NBNSTIC · IT Dept — Achievements (Magazine Tiles)</title>
  <style>
    :root{
      --bg1: linear-gradient(135deg,#0f172a 0%, #0b1220 100%);
      --card-gradient: linear-gradient(135deg,#ff7a18 0%,#af002d 50%,#319197 100%);
      --accent: #ffcc00;
      --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.03);
      --card-radius: 18px;
      --shadow: 0 8px 30px rgba(2,6,23,0.6);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:var(--bg1);color:#e6eef8}
    .wrap{max-width:1200px;margin:32px auto;padding:28px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
    .title{display:flex;gap:14px;align-items:center}
    .brand{width:64px;height:64px;border-radius:14px;background:var(--card-gradient);display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff;font-size:20px;box-shadow:var(--shadow)}
    h1{margin:0;font-size:20px;letter-spacing:0.2px}
    .subtitle{opacity:0.8;font-size:13px}

    .controls{display:flex;gap:10px;align-items:center}
    .btn{background:linear-gradient(90deg,#06b6d4,#7c3aed);border:none;padding:10px 14px;border-radius:10px;color:#fff;cursor:pointer;font-weight:600;box-shadow:0 6px 18px rgba(124,58,237,0.18);transition:transform .18s ease}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.08);color:#fff}
    .btn:active{transform:translateY(1px)}

    .magazine{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
    .tile{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--card-radius);padding:18px;backdrop-filter: blur(6px);border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden;min-height:160px;transition:transform .32s cubic-bezier(.2,.9,.3,1),box-shadow .32s}
    .tile:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.75)}

    .tile .number{font-size:42px;font-weight:800;margin:0}
    .tile .label{opacity:0.85;margin-top:6px;font-size:13px}
    .tile .meta{position:absolute;right:12px;top:12px;font-weight:700;opacity:0.12;font-size:80px;transform:rotate(-18deg)}

    .big-card{grid-column:span 2;display:flex;gap:18px;align-items:stretch}
    .big-left{flex:1;padding:18px;border-radius:12px;background:linear-gradient(135deg,#0ea5b7,#7c3aed);color:#021018}
    .big-right{flex:1;padding:18px;border-radius:12px;background:linear-gradient(135deg,#ff7a18,#ff5a8f);color:#021018}

    .row{display:flex;gap:12px}
    .muted{opacity:0.85;font-size:13px}

    .footer{margin-top:18px;font-size:13px;color:rgba(230,238,248,0.7);opacity:0.9}

    /* Admin modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:40}
    .modal{background:linear-gradient(180deg,#06202a, #08202a);padding:22px;border-radius:14px;border:1px solid rgba(255,255,255,0.04);width:420px;box-shadow:0 30px 80px rgba(2,6,23,0.8)}
    .modal h2{margin:0 0 10px}
    label{display:block;font-size:13px;margin:8px 0 6px}
    input[type=text], input[type=number], textarea, select{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
    textarea{min-height:80px}

    .admin-only{display:none}

    /* small screens */
    @media (max-width:720px){.big-card{grid-column:span 1;flex-direction:column}}

    /* subtle entrance animation */
    .tile{opacity:0;transform:translateY(16px);animation:pop .6s ease forwards}
    .tile:nth-child(1){animation-delay:.05s}
    .tile:nth-child(2){animation-delay:.09s}
    .tile:nth-child(3){animation-delay:.13s}
    .tile:nth-child(4){animation-delay:.17s}
    .tile:nth-child(5){animation-delay:.21s}
    .tile:nth-child(6){animation-delay:.25s}
    @keyframes pop{to{opacity:1;transform:none}}

    /* small decorative ribbons */
    .ribbon{position:absolute;left:-40px;top:12px;transform:rotate(-20deg);background:linear-gradient(90deg,#ff4d6d,#ffb37a);padding:6px 48px;color:#021018;font-weight:800;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.35);opacity:0.95}

    /* editable highlight */
    .editing{outline:3px dashed rgba(255,255,255,0.06);}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <div class="brand">IT</div>
        <div>
          <h1>NBNSTIC — IT Dept · Achievements </h1>
          <div class="subtitle">Current Year — <span id="yearLabel"></span> · Inspiration for Students. Designed by Prof. Rahul M. Samant | HOD-IT, NBNSTIC. </div>
        </div>
      </div>
      <div class="controls">
        <button class="btn" id="adminBtn">Admin Login</button>
        <button class="btn secondary" id="printBtn">Print / Export</button>
      </div>
    </header>

    <main>
      <div class="magazine" id="magazine">
        <!-- tiles injected by JS -->
      </div>

      <div class="footer">
        <div>Department Educational Products: <strong id="eduProducts"></strong></div>
        <div style="margin-top:6px">Note: Designed by Prof. Rahul M. Samant | HOD-IT, NBNSTIC.</div>
      </div>
    </main>
  </div>

  <!-- Admin modal -->
  <div id="modalRoot" style="display:none"></div>

  <script>
    // --- Demo dashboard data model ---
    const STORAGE_KEY = 'nbnstic_it_dashboard_' + new Date().getFullYear();
    const currentYear = new Date().getFullYear();
    document.getElementById('yearLabel').textContent = currentYear;

    const defaultData = {
      year: currentYear,
      smartIndiaHackathon: 7,
      resultSE_passPercent: 82.4,
      resultTE_passPercent: 79.1,
      resultBE_passPercent: 85.6,
      totalCashPrizes: 225000, // INR
      projectCompetitions: 18,
      aaviskarParticipation: 12,
      workshopsBeneficiaries: 540,
      seminarsBeneficiaries: 320,
      internshipsCount: 86,
      placementsCount: 76,
      publicationsCount: 14,
      eduProducts: ['EduBot','EcoSystem']
    };

    function loadData(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(raw) return JSON.parse(raw);
      }catch(e){console.error(e)}
      return defaultData;
    }
    function saveData(data){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    }

    // build tiles
    function render(){
      const data = loadData();
      const mag = document.getElementById('magazine');
      mag.innerHTML = '';
      document.getElementById('eduProducts').textContent = data.eduProducts.join(' · ');

      const tiles = [
        {label:'Smart India Hackathon Entries', value:data.smartIndiaHackathon,meta:'SIH'},
        {label:'SE Result (Pass %)', value:data.resultSE_passPercent+' %',meta:'SE'},
        {label:'TE Result (Pass %)', value:data.resultTE_passPercent+' %',meta:'TE'},
        {label:'BE Result (Pass %)', value:data.resultBE_passPercent+' %',meta:'BE'},
        {label:'Total Cash Prizes (₹)', value:'₹ '+formatNumber(data.totalCashPrizes),meta:'Prizes'},
        {label:'Project Competitions Participation', value:data.projectCompetitions,meta:'Projects'},
        {label:'Aaviskar Participation', value:data.aaviskarParticipation,meta:'Aaviskar'},
        {label:'Workshops Beneficiaries', value:formatNumber(data.workshopsBeneficiaries),meta:'Workshops'},
        {label:'Seminar Beneficiaries', value:formatNumber(data.seminarsBeneficiaries),meta:'Seminars'},
        {label:'Internships Count', value:data.internshipsCount,meta:'Intern'},
        {label:'Placement Count', value:data.placementsCount,meta:'Placements'},
        {label:'Publication Count', value:data.publicationsCount,meta:'Pubs'}
      ];

      // make a big card for two featured edu products
      const bigCard = document.createElement('div');
      bigCard.className = 'tile big-card';
      bigCard.innerHTML = `
        <div class="big-left">
          <div style="font-weight:800;font-size:18px">Featured Product</div>
          <div style="margin-top:10px;font-size:14px">${data.eduProducts[0] || '—'}</div>
          <div style="margin-top:12px;font-size:12px;opacity:0.9">Short description: A modular educational chatbot to assist students with lab instructions, course FAQs and placement prep.</div>
        </div>
        <div class="big-right">
          <div style="font-weight:800;font-size:18px">Ecosystem</div>
          <div style="margin-top:10px;font-size:14px">${data.eduProducts[1] || '—'}</div>
          <div style="margin-top:12px;font-size:12px;opacity:0.9">Short description: A student engagement platform integrating 100 + effective consultations, 80+ productivity tools & much more.</div>
        </div>
      `;
      mag.appendChild(bigCard);

      tiles.forEach((t, i)=>{
        const el = document.createElement('div');
        el.className = 'tile';
        el.innerHTML = `
          <div class="meta">${t.meta}</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="number">${t.value}</div>
              <div class="label">${t.label}</div>
            </div>
            <div style="text-align:right;">
              <div style="font-size:12px;opacity:0.9">Year</div>
              <div style="font-weight:700">${data.year}</div>
            </div>
          </div>
        `;
        mag.appendChild(el);
      });
    }

    function formatNumber(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
    }

    // Admin actions (client-side demo auth)
    const ADMIN_PASSWORD = 'HoDiT';

    function openAdmin(){
      const modalRoot = document.getElementById('modalRoot');
      modalRoot.innerHTML = `
        <div class="modal-backdrop">
          <div class="modal" role="dialog" aria-modal="true">
            <h2>Admin — Edit Dashboard</h2>
            <div id="adminStep">
              <label>Enter Admin Password</label>
              <input type="password" id="adminPass" placeholder="Password" />
              <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
                <button class="btn" id="tryPass">Enter</button>
                <button class="btn secondary" id="closeModal">Close</button>
              </div>
            </div>
          </div>
        </div>
      `;
      modalRoot.style.display = 'block';

      document.getElementById('closeModal').onclick = ()=>{modalRoot.style.display='none';modalRoot.innerHTML=''};
      document.getElementById('tryPass').onclick = ()=>{
        const val = document.getElementById('adminPass').value;
        if(val === ADMIN_PASSWORD){
          showAdminEditor();
        } else {
          alert('Incorrect password.');
        }
      }
    }

    function showAdminEditor(){
      const modalRoot = document.getElementById('modalRoot');
      const data = loadData();
      modalRoot.innerHTML = `
        <div class="modal-backdrop">
          <div class="modal" role="dialog" aria-modal="true">
            <h2>Admin Editor</h2>
            <div style="max-height:60vh;overflow:auto;padding-right:6px">
              <label>Smart India Hackathon Entries</label>
              <input type="number" id="smartIndiaHackathon" value="${data.smartIndiaHackathon}" />

              <label>SE Result (Pass %)</label>
              <input type="number" step="0.1" id="resultSE" value="${data.resultSE_passPercent}" />

              <label>TE Result (Pass %)</label>
              <input type="number" step="0.1" id="resultTE" value="${data.resultTE_passPercent}" />

              <label>BE Result (Pass %)</label>
              <input type="number" step="0.1" id="resultBE" value="${data.resultBE_passPercent}" />

              <label>Total Cash Prizes (INR)</label>
              <input type="number" id="totalCashPrizes" value="${data.totalCashPrizes}" />

              <label>Project Competitions Participation</label>
              <input type="number" id="projectCompetitions" value="${data.projectCompetitions}" />

              <label>Aaviskar Participation</label>
              <input type="number" id="aaviskarParticipation" value="${data.aaviskarParticipation}" />

              <label>Workshops Beneficiaries</label>
              <input type="number" id="workshopsBeneficiaries" value="${data.workshopsBeneficiaries}" />

              <label>Seminar Beneficiaries</label>
              <input type="number" id="seminarsBeneficiaries" value="${data.seminarsBeneficiaries}" />

              <label>Internships Count</label>
              <input type="number" id="internshipsCount" value="${data.internshipsCount}" />

              <label>Placement Count</label>
              <input type="number" id="placementsCount" value="${data.placementsCount}" />

              <label>Publication Count</label>
              <input type="number" id="publicationsCount" value="${data.publicationsCount}" />

              <label>Educational Products (comma-separated)</label>
              <input type="text" id="eduProductsInput" value="${data.eduProducts.join(',')}" />

            </div>
            <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
              <button class="btn" id="saveAdmin">Save</button>
              <button class="btn secondary" id="cancelAdmin">Cancel</button>
            </div>
          </div>
        </div>
      `;

      document.getElementById('cancelAdmin').onclick = ()=>{modalRoot.style.display='none';modalRoot.innerHTML='';};
      document.getElementById('saveAdmin').onclick = ()=>{
        const newData = {
          year: currentYear,
          smartIndiaHackathon: Number(document.getElementById('smartIndiaHackathon').value)||0,
          resultSE_passPercent: Number(document.getElementById('resultSE').value)||0,
          resultTE_passPercent: Number(document.getElementById('resultTE').value)||0,
          resultBE_passPercent: Number(document.getElementById('resultBE').value)||0,
          totalCashPrizes: Number(document.getElementById('totalCashPrizes').value)||0,
          projectCompetitions: Number(document.getElementById('projectCompetitions').value)||0,
          aaviskarParticipation: Number(document.getElementById('aaviskarParticipation').value)||0,
          workshopsBeneficiaries: Number(document.getElementById('workshopsBeneficiaries').value)||0,
          seminarsBeneficiaries: Number(document.getElementById('seminarsBeneficiaries').value)||0,
          internshipsCount: Number(document.getElementById('internshipsCount').value)||0,
          placementsCount: Number(document.getElementById('placementsCount').value)||0,
          publicationsCount: Number(document.getElementById('publicationsCount').value)||0,
          eduProducts: (document.getElementById('eduProductsInput').value || '').split(',').map(s=>s.trim()).filter(Boolean)
        };
        saveData(newData);
        render();
        alert('Saved successfully');
        modalRoot.style.display='none';modalRoot.innerHTML='';
      };
    }

    // print
    function doPrint(){
      window.print();
    }

    // init
    document.getElementById('adminBtn').addEventListener('click', openAdmin);
    document.getElementById('printBtn').addEventListener('click', doPrint);

    render();

    // accessibility: close modal on Escape
    window.addEventListener('keydown', (e)=>{
      if(e.key==='Escape'){
        const mr = document.getElementById('modalRoot');
        if(mr) {mr.style.display='none';mr.innerHTML=''}
      }
    });

  </script>
</body>
</html>
